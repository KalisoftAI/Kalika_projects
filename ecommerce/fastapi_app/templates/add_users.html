{% extends 'base.html' %}

{% block title %}Add New User{% endblock %}

{% block content %}
<div class="card-glass mt-4 p-6 rounded-xl">
    <div class="card-header bg-secondary-dark text-white p-4 rounded-t-lg -mx-6 -mt-6 mb-6">
        <h5 class="text-xl font-semibold">Add New User Account</h5>
    </div>
    <div class="card-body">
        {# Display flash messages if any #}
        {% if flash_messages %}
            <div id="formFlashMessage" class="bg-red-500/20 text-red-500 border border-red-500 px-4 py-3 rounded-lg mb-6 flex items-center justify-between animate-fade-in transition-all duration-300">
                <span><i class="fas fa-exclamation-circle mr-2"></i>{{ flash_messages[0] }}</span>
                <button class="text-red-500 hover:text-red-500/80 focus:outline-none" onclick="document.getElementById('formFlashMessage').classList.add('hidden')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        {% endif %}

        <form method="POST" action="/users/add">
            <div class="mb-4">
                <label for="username" class="block text-text-primary text-sm font-bold mb-2">Username</label>
                <input type="text" class="shadow appearance-none border rounded w-full py-2 px-3 text-text-primary leading-tight focus:outline-none focus:shadow-outline bg-bg-primary border-border-color focus:ring-2 focus:ring-accent-indigo" id="username" name="username" placeholder="Enter username" required>
            </div>
            <div class="mb-4">
                <label for="email" class="block text-text-primary text-sm font-bold mb-2">Email</label>
                <input type="email" class="shadow appearance-none border rounded w-full py-2 px-3 text-text-primary leading-tight focus:outline-none focus:shadow-outline bg-bg-primary border-border-color focus:ring-2 focus:ring-accent-indigo" id="email" name="email" placeholder="Enter email address" required>
            </div>
            <div class="mb-4">
                <label for="password" class="block text-text-primary text-sm font-bold mb-2">Password</label>
                <input type="password" class="shadow appearance-none border rounded w-full py-2 px-3 text-text-primary leading-tight focus:outline-none focus:shadow-outline bg-bg-primary border-border-color focus:ring-2 focus:ring-accent-indigo" id="password" name="password" placeholder="Enter password" required>
            </div>
            <div class="mb-4">
                <label for="role" class="block text-text-primary text-sm font-bold mb-2">Role</label>
                <select class="shadow appearance-none border rounded w-full py-2 px-3 text-text-primary leading-tight focus:outline-none focus:shadow-outline bg-bg-primary border-border-color focus:ring-2 focus:ring-accent-indigo" id="role" name="role" required>
                    <option value="User">User</option>
                    <option value="Admin">Admin</option>
                    <option value="Editor">Editor</option>
                </select>
            </div>
            <div class="mb-6 flex items-center">
                <input type="checkbox" id="is_active" name="is_active" class="mr-2 leading-tight h-4 w-4 text-accent-indigo rounded border-gray-300 focus:ring-accent-indigo" checked>
                <label for="is_active" class="text-text-primary text-sm">Is Active</label>
            </div>
            <button type="submit" class="bg-accent-indigo hover:bg-accent-indigo/80 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200">
                Add User
            </button>
        </form>
    </div>
</div>
{% endblock %}
